<!DOCTYPE html>
<html>
<head>
    <link
        rel="stylesheet"
        href="https://unpkg.com/@corbado/web-js@2/dist/bundle/index.css"
    />
    <script src="https://unpkg.com/@corbado/web-js@2/dist/bundle/index.js"></script>
<body>
    <script type="module">
        await Corbado.load({
            projectId: "pro-0552933888880246188",
            darkMode: "off"
        });
        const userIdElement = document.getElementById("userId");
        Corbado.userChanges.subscribe((next) => {
            userIdElement.innerText = next?.sub || "Not logged in";
        })
        const authElement = document.getElementById("corbadoAuth");
        Corbado.mountAuthUI(authElement, {
            onLoggedIn: () => {
                console.log('User logged in')
                // perform any action after the user logs in (e.g. redirect to another page)
            }
        })
        const logoutButton = document.getElementById("logoutButton");
        logoutButton.addEventListener("click", () => {
            Corbado.logout();
        });
    </script>
    <div id="corbadoAuth"></div>
    <h1 id="userId"></h1>
    <button id="logoutButton">Logout</button>
</body>
</html>
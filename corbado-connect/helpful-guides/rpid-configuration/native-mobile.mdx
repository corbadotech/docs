---
title: "Native/Mobile Application"
description: "Discover how to configure the RPID for your application, particularly in complex scenarios involving both web and native/mobile applications running in parallel."
sidebarTitle: "Native/Mobile Application"
---

Context:
- /corbado-complete/helpful-guides/passkeys/relying-party-id
- /corbado-complete/helpful-guides/passkeys/passkeys-in-native-apps
- https://www.corbado.com/blog/webauthn-relying-party-id-rpid-passkeys
- /local-context/flutter

## 1. Introduction

While **RPID** configuration for web applications is straightforward and based on the application's [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin), native/mobile applications present unique challenges. Unlike web browsers, native/mobile applications don't operate within the traditional concept of web [origins](https://developer.mozilla.org/en-US/docs/Glossary/Origin) and domains. This fundamental difference requires a special approach to establish trust between your domain and your native/mobile applications.

To enable passkey functionality in native environments, you need to create a secure association between your application and your domain. This is achieved through platform-specific association files:

- For **iOS** applications, this involves configuring an **AASA (Apple App Site Association)** and **entitlements** file
- For **Android** applications, you'll need to set up an **Asset Links** file

These association files serve as digital proof that your native/mobile application is authorized to use passkeys associated with your domain's **RPID**. This security measure ensures that only legitimate applications can access and manage passkeys, preventing potential security vulnerabilities.

## 2. iOS

Configuring passkey support for **iOS** applications requires careful setup of the relationship between your application and your **RPID**. This involves creating and configuring multiple components that work together to establish a secure, trusted connection.

<Note>
Before testing passkeys on physical **iOS** devices, you'll need to configure your development environment properly. For detailed instructions, refer to our [iOS Device Testing Guide](/corbado-complete/frontend-integration/flutter/run-on-physical-device/ios/overview).
</Note>

The **iOS** configuration process involves three main components:

1. An **AASA** and **entitlements** file
2. Your application's unique identifiers (**Application Identifier Prefix** and **Bundle ID**)
3. The hosting of your **AASA** file

Let's explore each of these components in detail.

### 2.1. AASA and entitlements file

Let's talk about the **AASA** file first. The **AASA** file is a JSON configuration file that establishes the trust relationship between your **iOS** application and your domain. This file must be hosted at a specific location on your domain (see [hosting](#2-3-hosting-of-aasa-file) for more details):

`https://<your-domain>/.well-known/apple-app-site-association`

Below is an example of an **AASA** file structure for passkey support. The important part is the `webcredentials` object where you allow certain **iOS** applications identified by their **Application Identifier Prefix** (here `T9A667JL6T`) and **Bundle ID** (here `com.corbado.developerpanel.app`) for passkey usage (see [below](#2-2-application-identifier-prefix-and-bundle-identifier) for more details):

```json
{
  "appclips": {
    "apps": []
  },
  "applinks": {
    "details": [
      {
        "appID": "T9A667JL6T.com.corbado.developerpanel.app",
        "paths": [
          "*"
        ]
      }
    ]
  },
  "webcredentials": {
    "apps": [
      "T9A667JL6T.com.corbado.developerpanel.app"
    ]
  }
}
```

Second, let's talk about the **entitlements** file. With the **entitlements** file you declare the association between your **iOS** application and your domain, looking from the **iOS** application's perspective. The **entitlements** file is used to tell **iOS** where to look for the **AASA** file, thus closing the circle of trust.

The **entitlements** file must be located in your **iOS** application's project directory and could look like this:

```xml Example.entitlements
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>com.apple.developer.associated-domains</key>
    <array>
        <string>webcredentials:example.com</string>
    </array>
</dict>
</plist>
```

The exact interaction between those two files is shown in the following diagram:

<Frame caption="AASA and entitlements file interaction">
![AASA and entitlements file interaction](/images/corbado-connect/rpid-aasa-file.webp)
</Frame>

Let's break down the key components:

1. You configure the **RPID** to `example.com` in the [Corbado developer panel](https://app.corbado.com/settings/general?tab=URLs)
2. You put `example.com` in the **entitlements** file
3. On **iOS** application install/update, **iOS** reads the **entitlements** file and fetches the **AASA** file from `https://example.com/.well-known/apple-app-site-association`
4. **iOS** checks if the applications **Application Identifier Prefix** and **Bundle ID** are listed in the **AASA** file (`webcredentials.apps`)
5. If they are found the trust has been established and the **iOS** application is authorized to use passkeys for **RPID** `example.com`

<Warning>
The **AASA** file is cached by Apple. During development, append `?mode=developer` to the URL when accessing your **AASA** file to bypass this caching.
</Warning>

### 2.2. Application Identifier Prefix and Bundle Identifier

- Explain Application Identifier Prefix and Bundle Identifier

### 2.3. Hosting of AASA file

- Explain local development with RPID = FAPI
- Explain different concepts like statically deliver it from your own webserver or proxy it through to Corbado Frontend API

## 3. Android

TODO